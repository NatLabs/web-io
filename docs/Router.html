<!DOCTYPE html>
<html><head title="Doc"><meta charset="UTF-8"/><link href="styles.css" rel="stylesheet"/></head><body><nav class="sidebar"><h3>Modules</h3><ul><li><li><a href="ArrayMap.html">ArrayMap</a></li></li><li><li><a href="File.html">File</a></li></li><li><li><a href="Form/Parser.html">Form/Parser</a></li></li><li><li><a href="Form/SlowParser.html">Form/SlowParser</a></li></li><li><li><a href="Form/lib.html">Form/lib</a></li></li><li><li><a href="Headers.html">Headers</a></li></li><li><li><a href="Request.html">Request</a></li></li><li><li><a href="RequestBuilder.html">RequestBuilder</a></li></li><li><li><a href="Response.html">Response</a></li></li><li><li><a href="ResponseBuilder.html">ResponseBuilder</a></li></li><li><li><a href="Router.html">Router</a></li></li><li><li><a href="Types.html">Types</a></li></li><li><li><a href="URL.html">URL</a></li></li><li><li><a href="UrlEncoding.html">UrlEncoding</a></li></li><li><li><a href="Utils.html">Utils</a></li></li><li><li><a href="lib.html">lib</a></li></li><li><li><a href="outcall.html">outcall</a></li></li></ul><h3>Declarations</h3><ul><li><li><a href="#type.Request">Request</a></li></li><li><li><a href="#type.Response">Response</a></li></li><li><li><a href="#type.Candid">Candid</a></li></li><li><li><a href="#type.ResponseBuilder">ResponseBuilder</a></li></li><li><li><a href="#type.HttpRequest">HttpRequest</a></li></li><li><li><a href="#type.HttpResponse">HttpResponse</a></li></li><li><li><a href="#type.RouterResult">RouterResult</a></li></li><li><li><a href="#type.AsyncRouterHandler">AsyncRouterHandler</a></li></li><li><li><a href="#type.SyncRouterHandler">SyncRouterHandler</a></li></li><li><li><a href="#type.SharedMessage">SharedMessage</a></li></li><li><li><a href="#type.StreamingCallback">StreamingCallback</a></li></li><li><li><a href="#type.StreamingToken">StreamingToken</a></li></li><li><li><a href="#type.StreamingResponse">StreamingResponse</a></li></li><li><li><a href="#PATH_PARAMS_ID">PATH_PARAMS_ID</a></li></li><li><li><a href="#FALLBACK_ID">FALLBACK_ID</a></li></li><li><li><a href="#type.RouterError">RouterError</a></li></li><li><li><a href="#type.Router">Router</a></li></li></ul></nav><div class="documentation"><h1>Router</h1><div class="declaration"><h4 class="type-declaration" id="type.Request"><span class="keyword">type </span><span class="type">Request</span> = <a href="Request.html#type.Request"><span class="type">Request.Request</span></a></h4><p></p></div><div class="declaration"><h4 class="type-declaration" id="type.Response"><span class="keyword">type </span><span class="type">Response</span> = <a href="Response.html#type.Response"><span class="type">Response.Response</span></a></h4><p></p></div><div class="declaration"><h4 class="type-declaration" id="type.Candid"><span class="keyword">type </span><span class="type">Candid</span> = <a href="Types.html#type.Candid"><span class="type">T.Candid</span></a></h4><p></p></div><div class="declaration"><h4 class="type-declaration" id="type.ResponseBuilder"><span class="keyword">type </span><span class="type">ResponseBuilder</span> = <a href="ResponseBuilder.html#type.ResponseBuilder"><span class="type">RB.ResponseBuilder</span></a></h4><p></p></div><div class="declaration"><h4 class="type-declaration" id="type.HttpRequest"><span class="keyword">type </span><span class="type">HttpRequest</span> = <a href="Types.html#type.HttpRequest"><span class="type">T.HttpRequest</span></a></h4><p></p></div><div class="declaration"><h4 class="type-declaration" id="type.HttpResponse"><span class="keyword">type </span><span class="type">HttpResponse</span> = <a href="Types.html#type.HttpResponse"><span class="type">T.HttpResponse</span></a></h4><p></p></div><div class="declaration"><h4 class="type-declaration" id="type.RouterResult"><span class="keyword">type </span><span class="type">RouterResult</span> = <span class="type">Result.Result</span>&lt;(), <a href="#type.HttpResponse"><span class="type">HttpResponse</span></a>&gt;</h4><p></p></div><div class="declaration"><h4 class="type-declaration" id="type.AsyncRouterHandler"><span class="keyword">type </span><span class="type">AsyncRouterHandler</span> = (<a href="#type.Request"><span class="type">Request</span></a>, <a href="#type.ResponseBuilder"><span class="type">ResponseBuilder</span></a>) -&gt; <span class="keyword">async* </span>()</h4><p></p></div><div class="declaration"><h4 class="type-declaration" id="type.SyncRouterHandler"><span class="keyword">type </span><span class="type">SyncRouterHandler</span> = (<a href="#type.Request"><span class="type">Request</span></a>, <a href="#type.ResponseBuilder"><span class="type">ResponseBuilder</span></a>) -&gt; ()</h4><p></p></div><div class="declaration"><h4 class="type-declaration" id="type.SharedMessage"><span class="keyword">type </span><span class="type">SharedMessage</span> = <a href="Types.html#type.SharedMessage"><span class="type">T.SharedMessage</span></a></h4><p></p></div><div class="declaration"><h4 class="type-declaration" id="type.StreamingCallback"><span class="keyword">type </span><span class="type">StreamingCallback</span> = <a href="Types.html#type.StreamingCallback"><span class="type">T.StreamingCallback</span></a></h4><p></p></div><div class="declaration"><h4 class="type-declaration" id="type.StreamingToken"><span class="keyword">type </span><span class="type">StreamingToken</span> = <a href="Types.html#type.StreamingToken"><span class="type">T.StreamingToken</span></a></h4><p></p></div><div class="declaration"><h4 class="type-declaration" id="type.StreamingResponse"><span class="keyword">type </span><span class="type">StreamingResponse</span> = <a href="Types.html#type.StreamingResponse"><span class="type">T.StreamingResponse</span></a></h4><p></p></div><div class="declaration"><h4 class="value-declaration" id="PATH_PARAMS_ID"><code><span class="keyword">public let </span><span class="fnname">PATH_PARAMS_ID</span> : </code></h4><p></p></div><div class="declaration"><h4 class="value-declaration" id="FALLBACK_ID"><code><span class="keyword">public let </span><span class="fnname">FALLBACK_ID</span> : </code></h4><p></p></div><div class="declaration"><h4 class="type-declaration" id="type.RouterError"><span class="keyword">type </span><span class="type">RouterError</span> = {#RouteNotFound : <a href="#type.HttpRequest"><span class="type">HttpRequest</span></a>}</h4><p></p></div><div class="declaration"><h4 class="class-declaration" id="type.Router"><span class="keyword">class </span><span class="classname">Router</span>()</h4><div class="declaration"><h4 class="value-declaration" id="Router.routes"><code><span class="keyword">public let </span><span class="fnname">routes</span> : <a href="#type.RouteMap"><span class="type">RouteMap</span></a></code></h4><p></p></div><div class="declaration"><h4 class="function" id="Router.mount"><code><span class="keyword">public func </span><span class="fnname">mount</span>(<span class="parameter">endpoint</span> : <span class="type">Text</span>, <span class="parameter">other</span> : <a href="#type.Router"><span class="type">Router</span></a>)</code></h4><p><p>Merges the routes of another router into this one
Similar to express's router.use()</p>
</p></div><div class="declaration"><h4 class="function" id="Router.error"><code><span class="keyword">public func </span><span class="fnname">error</span>(<span class="parameter">handler</span> : <a href="#type.SyncRouterHandler"><span class="type">SyncRouterHandler</span></a>)</code></h4><p><p>Handler for when a request is not found</p>
</p></div><div class="declaration"><h4 class="function" id="Router.process_request"><code><span class="keyword">public func </span><span class="fnname">process_request</span>(<span class="parameter">http_req</span> : <a href="Types.html#type.HttpRequest"><span class="type">T.HttpRequest</span></a>, <span class="parameter">message</span> : ?<a href="#type.SharedMessage"><span class="type">SharedMessage</span></a>) : <a href="Types.html#type.HttpResponse"><span class="type">T.HttpResponse</span></a></code></h4><p><p>Processes a request for the <code>http_request</code> function</p>
</p></div><div class="declaration"><h4 class="function" id="Router.process_request_update"><code><span class="keyword">public func </span><span class="fnname">process_request_update</span>(<span class="parameter">http_req</span> : <a href="Types.html#type.HttpRequest"><span class="type">T.HttpRequest</span></a>, <span class="parameter">message</span> : ?<a href="#type.SharedMessage"><span class="type">SharedMessage</span></a>) : <a href="Types.html#type.HttpResponse"><span class="type">T.HttpResponse</span></a></code></h4><p><p>Processes a request for the <code>http_request_update</code> function</p>
</p></div><div class="declaration"><h4 class="function" id="Router.get"><code><span class="keyword">public func </span><span class="fnname">get</span>(<span class="parameter">endpoint</span> : <span class="type">Text</span>, <span class="parameter">callback</span> : <a href="#type.SyncRouterHandler"><span class="type">SyncRouterHandler</span></a>)</code></h4><p></p></div><div class="declaration"><h4 class="function" id="Router.put"><code><span class="keyword">public func </span><span class="fnname">put</span>(<span class="parameter">endpoint</span> : <span class="type">Text</span>, <span class="parameter">callback</span> : <a href="#type.SyncRouterHandler"><span class="type">SyncRouterHandler</span></a>)</code></h4><p></p></div><div class="declaration"><h4 class="function" id="Router.delete"><code><span class="keyword">public func </span><span class="fnname">delete</span>(<span class="parameter">endpoint</span> : <span class="type">Text</span>, <span class="parameter">callback</span> : <a href="#type.SyncRouterHandler"><span class="type">SyncRouterHandler</span></a>)</code></h4><p></p></div><div class="declaration"><h4 class="function" id="Router.post"><code><span class="keyword">public func </span><span class="fnname">post</span>(<span class="parameter">endpoint</span> : <span class="type">Text</span>, <span class="parameter">callback</span> : <a href="#type.SyncRouterHandler"><span class="type">SyncRouterHandler</span></a>)</code></h4><p></p></div><div class="declaration"><h4 class="function" id="Router.patch"><code><span class="keyword">public func </span><span class="fnname">patch</span>(<span class="parameter">endpoint</span> : <span class="type">Text</span>, <span class="parameter">callback</span> : <a href="#type.SyncRouterHandler"><span class="type">SyncRouterHandler</span></a>)</code></h4><p></p></div><p></p></div></div></body></html>