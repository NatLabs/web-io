<!DOCTYPE html>
<html><head title="Doc"><meta charset="UTF-8"/><link href="styles.css" rel="stylesheet"/></head><body><nav class="sidebar"><h3>Modules</h3><ul><li><li><a href="ArrayMap.html">ArrayMap</a></li></li><li><li><a href="File.html">File</a></li></li><li><li><a href="Form/Parser.html">Form/Parser</a></li></li><li><li><a href="Form/SlowParser.html">Form/SlowParser</a></li></li><li><li><a href="Form/lib.html">Form/lib</a></li></li><li><li><a href="Headers.html">Headers</a></li></li><li><li><a href="Request.html">Request</a></li></li><li><li><a href="RequestBuilder.html">RequestBuilder</a></li></li><li><li><a href="Response.html">Response</a></li></li><li><li><a href="ResponseBuilder.html">ResponseBuilder</a></li></li><li><li><a href="Router.html">Router</a></li></li><li><li><a href="Types.html">Types</a></li></li><li><li><a href="URL.html">URL</a></li></li><li><li><a href="UrlEncoding.html">UrlEncoding</a></li></li><li><li><a href="Utils.html">Utils</a></li></li><li><li><a href="lib.html">lib</a></li></li><li><li><a href="outcall.html">outcall</a></li></li></ul><h3>Declarations</h3><ul><li><li><a href="#type.RequestInitData">RequestInitData</a></li></li><li><li><a href="#type.Request">Request</a></li></li><li><li><a href="#fromHttpRequest">fromHttpRequest</a></li></li></ul></nav><div class="documentation"><h1>Request</h1><div class="declaration"><h4 class="type-declaration" id="type.RequestInitData"><span class="keyword">type </span><span class="type">RequestInitData</span> = { method : <span class="type">Text</span>; url : <a href="URL.html#type.URL"><span class="type">URL.URL</span></a>; body : <span class="type">Blob</span>; headers : <a href="Headers.html#type.Headers"><span class="type">Headers.Headers</span></a>; caller : ?<span class="type">Principal.Principal</span>; params : ?<span class="type">TrieMap.TrieMap</span>&lt;<span class="type">Text</span>, <span class="type">Text</span>&gt; }</h4><p><p>The Request class represents an HTTP request and provides helpful methods
Read-only information about an HTTP request
Use the <code>RequestBuilder</code> to create a <code>Request</code> object</p>
</p></div><div class="declaration"><h4 class="class-declaration" id="type.Request"><span class="keyword">class </span><span class="classname">Request</span>(<span class="parameter">init</span> : <a href="#type.RequestInitData"><span class="type">RequestInitData</span></a>)</h4><div class="declaration"><h4 class="value-declaration" id="Request.url"><code><span class="keyword">public let </span><span class="fnname">url</span> : </code></h4><p><p>A URL object created from the url sent in the request</p>
</p></div><div class="declaration"><h4 class="value-declaration" id="Request.query_map"><code><span class="keyword">public let </span><span class="fnname">query_map</span> : </code></h4><p><p>Reference to the query parameter map in the URL object.</p>
</p></div><div class="declaration"><h4 class="value-declaration" id="Request.query_candid"><code><span class="keyword">public let </span><span class="fnname">query_candid</span> : </code></h4><p><p>Function to serialize the query parameters in the URL object to a candid blob.</p>
</p></div><div class="declaration"><h4 class="value-declaration" id="Request.query_text"><code><span class="keyword">public let </span><span class="fnname">query_text</span> : </code></h4><p><p>Function for converting the query parameters in the URL object to a Text.</p>
</p></div><div class="declaration"><h4 class="value-declaration" id="Request.method"><code><span class="keyword">public let </span><span class="fnname">method</span> : </code></h4><p><p>The HTTP method of the request</p>
</p></div><div class="declaration"><h4 class="value-declaration" id="Request.headers"><code><span class="keyword">public let </span><span class="fnname">headers</span> : </code></h4><p><p>The headers of the request as a Headers object</p>
</p></div><div class="declaration"><h4 class="value-declaration" id="Request.caller"><code><span class="keyword">public let </span><span class="fnname">caller</span> : </code></h4><p><p>The caller of the request, if available. If the caller is not available, the <strong>anonymous</strong> principal is used.</p>
</p></div><div class="declaration"><h4 class="value-declaration" id="Request.params"><code><span class="keyword">public let </span><span class="fnname">params</span> : </code></h4><p><p>The path parameters extrancted from the url.
The path parameters are the parts of the url that are prefixed with a colon when setting a route in the Router.
For example, in the url <code>/users/:id</code>, the path parameter is <code>id</code>.</p>
</p></div><div class="declaration"><h4 class="function" id="Request.blob"><code><span class="keyword">public func </span><span class="fnname">blob</span>() : <span class="type">Blob</span></code></h4><p><p>Returns the request body as a Blob</p>
</p></div><div class="declaration"><h4 class="function" id="Request.text"><code><span class="keyword">public func </span><span class="fnname">text</span>() : ?<span class="type">Text</span></code></h4><p><p>Returns the request body as a Text</p>
</p></div><div class="declaration"><h4 class="function" id="Request.strict_text"><code><span class="keyword">public func </span><span class="fnname">strict_text</span>() : <span class="type">Text</span></code></h4><p><p>Returns the request body as a Text, or traps if the body cannot be decoded as text</p>
</p></div><div class="declaration"><h4 class="function" id="Request.json"><code><span class="keyword">public func </span><span class="fnname">json</span>() : ?<span class="type">Blob</span></code></h4><p><p>Returns the request body as a JSON blob, that can be decoded to primitive motoko types using the <code>from_candid()</code> global function</p>
</p></div><div class="declaration"><h4 class="function" id="Request.strict_json"><code><span class="keyword">public func </span><span class="fnname">strict_json</span>() : <span class="type">Blob</span></code></h4><p><p>Returns the request body as a JSON blob, or traps if the body cannot be decoded as JSON</p>
</p></div><div class="declaration"><h4 class="function" id="Request.form"><code><span class="keyword">public func </span><span class="fnname">form</span>() : <a href="Form.html#type.Form"><span class="type">Form.Form</span></a></code></h4><p><p>Returns the request body as a Form object</p>
</p></div><p></p></div><div class="declaration"><h4 class="function" id="fromHttpRequest"><code><span class="keyword">public func </span><span class="fnname">fromHttpRequest</span>(<span class="parameter">httpReq</span> : <a href="Types.html#type.HttpRequest"><span class="type">T.HttpRequest</span></a>) : <a href="#type.Request"><span class="type">Request</span></a></code></h4><p><p>Create a <code>Request</code> object from a <code>HttpRequest</code> record</p>
</p></div></div></body></html>