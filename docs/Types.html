<!DOCTYPE html>
<html><head title="Doc"><meta charset="UTF-8"/><link href="styles.css" rel="stylesheet"/></head><body><nav class="sidebar"><h3>Modules</h3><ul><li><li><a href="ArrayMap.html">ArrayMap</a></li></li><li><li><a href="File.html">File</a></li></li><li><li><a href="Form/Parser.html">Form/Parser</a></li></li><li><li><a href="Form/SlowParser.html">Form/SlowParser</a></li></li><li><li><a href="Form/lib.html">Form/lib</a></li></li><li><li><a href="Headers.html">Headers</a></li></li><li><li><a href="Request.html">Request</a></li></li><li><li><a href="RequestBuilder.html">RequestBuilder</a></li></li><li><li><a href="Response.html">Response</a></li></li><li><li><a href="ResponseBuilder.html">ResponseBuilder</a></li></li><li><li><a href="Router.html">Router</a></li></li><li><li><a href="Types.html">Types</a></li></li><li><li><a href="URL.html">URL</a></li></li><li><li><a href="UrlEncoding.html">UrlEncoding</a></li></li><li><li><a href="Utils.html">Utils</a></li></li><li><li><a href="outcall.html">outcall</a></li></li></ul><h3>Declarations</h3><ul><li><li><a href="#type.HeaderField">HeaderField</a></li></li><li><li><a href="#type.HttpRequest">HttpRequest</a></li></li><li><li><a href="#type.StreamingToken">StreamingToken</a></li></li><li><li><a href="#type.StreamingResponse">StreamingResponse</a></li></li><li><li><a href="#type.StreamingCallback">StreamingCallback</a></li></li><li><li><a href="#type.StreamingStrategy">StreamingStrategy</a></li></li><li><li><a href="#type.HttpResponse">HttpResponse</a></li></li><li><li><a href="#type.URL">URL</a></li></li><li><li><a href="#type.Form">Form</a></li></li><li><li><a href="#type.Headers">Headers</a></li></li><li><li><a href="#type.File">File</a></li></li><li><li><a href="#type.Body">Body</a></li></li><li><li><a href="#type.FormObjType">FormObjType</a></li></li><li><li><a href="#type.ParsedHttpRequest">ParsedHttpRequest</a></li></li><li><li><a href="#type.SharedMessage">SharedMessage</a></li></li><li><li><a href="#type.HttpHeader">HttpHeader</a></li></li><li><li><a href="#type.HttpMethod">HttpMethod</a></li></li><li><li><a href="#type.TransformContext">TransformContext</a></li></li><li><li><a href="#type.CanisterHttpRequest">CanisterHttpRequest</a></li></li><li><li><a href="#type.CanisterHttpResponse">CanisterHttpResponse</a></li></li><li><li><a href="#type.RedirectedResponse">RedirectedResponse</a></li></li><li><li><a href="#type.OutcallResponse">OutcallResponse</a></li></li><li><li><a href="#type.TransformArgs">TransformArgs</a></li></li><li><li><a href="#type.ManagementCanister">ManagementCanister</a></li></li></ul></nav><div class="documentation"><h1>Types</h1><div class="declaration"><h4 class="type-declaration" id="type.HeaderField"><span class="keyword">type </span><span class="type">HeaderField</span> = (<span class="type">Text</span>, <span class="type">Text</span>)</h4><p></p></div><div class="declaration"><h4 class="type-declaration" id="type.HttpRequest"><span class="keyword">type </span><span class="type">HttpRequest</span> = { url : <span class="type">Text</span>; method : <span class="type">Text</span>; body : <span class="type">Blob</span>; headers : [<a href="#type.HeaderField"><span class="type">HeaderField</span></a>] }</h4><p></p></div><div class="declaration"><h4 class="type-declaration" id="type.StreamingToken"><span class="keyword">type </span><span class="type">StreamingToken</span> = { key : <span class="type">Text</span>; index : <span class="type">Nat</span> }</h4><p></p></div><div class="declaration"><h4 class="type-declaration" id="type.StreamingResponse"><span class="keyword">type </span><span class="type">StreamingResponse</span> = { token : ?<a href="#type.StreamingToken"><span class="type">StreamingToken</span></a>; body : <span class="type">Blob</span> }</h4><p></p></div><div class="declaration"><h4 class="type-declaration" id="type.StreamingCallback"><span class="keyword">type </span><span class="type">StreamingCallback</span> = <span class="keyword">shared query </span>(<a href="#type.StreamingToken"><span class="type">StreamingToken</span></a>) -&gt; <span class="keyword">async </span><a href="#type.StreamingResponse"><span class="type">StreamingResponse</span></a></h4><p></p></div><div class="declaration"><h4 class="type-declaration" id="type.StreamingStrategy"><span class="keyword">type </span><span class="type">StreamingStrategy</span> = {#Callback : { token : <a href="#type.StreamingToken"><span class="type">StreamingToken</span></a>; callback : <a href="#type.StreamingCallback"><span class="type">StreamingCallback</span></a> }}</h4><p></p></div><div class="declaration"><h4 class="type-declaration" id="type.HttpResponse"><span class="keyword">type </span><span class="type">HttpResponse</span> = { status_code : <span class="type">Nat16</span>; body : <span class="type">Blob</span>; headers : [<a href="#type.HeaderField"><span class="type">HeaderField</span></a>]; update : <span class="type">Bool</span>; streaming_strategy : ?<a href="#type.StreamingStrategy"><span class="type">StreamingStrategy</span></a> }</h4><p></p></div><div class="declaration"><h4 class="type-declaration" id="type.URL"><span class="keyword">type </span><span class="type">URL</span> = { original : <span class="type">Text</span>; protocol : <span class="type">Text</span>; port : <span class="type">Nat16</span>; host : { original : <span class="type">Text</span>; array : [<span class="type">Text</span>] }; path : { original : <span class="type">Text</span>; array : [<span class="type">Text</span>] }; queryObj : { original : <span class="type">Text</span>; get : (<span class="type">Text</span>) -&gt; ?<span class="type">Text</span>; trieMap : <span class="type">TrieMap.TrieMap</span>&lt;<span class="type">Text</span>, <span class="type">Text</span>&gt;; keys : [<span class="type">Text</span>] }; anchor : <span class="type">Text</span> }</h4><p></p></div><div class="declaration"><h4 class="type-declaration" id="type.Form"><span class="keyword">type </span><span class="type">Form</span> = { get : (<span class="type">Text</span>) -&gt; ?[<span class="type">Text</span>]; trieMap : <span class="type">TrieMap.TrieMap</span>&lt;<span class="type">Text</span>, [<span class="type">Text</span>]&gt;; keys : [<span class="type">Text</span>]; fileKeys : [<span class="type">Text</span>]; files : (<span class="type">Text</span>) -&gt; ?[<a href="#type.File"><span class="type">File</span></a>] }</h4><p></p></div><div class="declaration"><h4 class="type-declaration" id="type.Headers"><span class="keyword">type </span><span class="type">Headers</span> = { original : [(<span class="type">Text</span>, <span class="type">Text</span>)]; get : (<span class="type">Text</span>) -&gt; ?[<span class="type">Text</span>]; trieMap : <span class="type">TrieMap.TrieMap</span>&lt;<span class="type">Text</span>, [<span class="type">Text</span>]&gt;; keys : [<span class="type">Text</span>] }</h4><p></p></div><div class="declaration"><h4 class="type-declaration" id="type.File"><span class="keyword">type </span><span class="type">File</span> = { name : <span class="type">Text</span>; filename : <span class="type">Text</span>; mimeType : <span class="type">Text</span>; mimeSubType : <span class="type">Text</span>; start : <span class="type">Nat</span>; end : <span class="type">Nat</span>; bytes : <span class="type">Buffer.Buffer</span>&lt;<span class="type">Nat8</span>&gt; }</h4><p></p></div><div class="declaration"><h4 class="type-declaration" id="type.Body"><span class="keyword">type </span><span class="type">Body</span> = { original : <span class="type">Blob</span>; size : <span class="type">Nat</span>; form : <a href="#type.Form"><span class="type">Form</span></a>; text : () -&gt; <span class="type">Text</span>; file : () -&gt; ?<span class="type">Buffer.Buffer</span>&lt;<span class="type">Nat8</span>&gt;; bytes : (<span class="parameter">start</span> : <span class="type">Nat</span>, <span class="parameter">end</span> : <span class="type">Nat</span>) -&gt; <span class="type">Buffer.Buffer</span>&lt;<span class="type">Nat8</span>&gt; }</h4><p></p></div><div class="declaration"><h4 class="type-declaration" id="type.FormObjType"><span class="keyword">type </span><span class="type">FormObjType</span> = { get : (<span class="type">Text</span>) -&gt; ?[<span class="type">Text</span>]; trieMap : <span class="type">TrieMap.TrieMap</span>&lt;<span class="type">Text</span>, [<span class="type">Text</span>]&gt;; keys : [<span class="type">Text</span>]; fileKeys : [<span class="type">Text</span>]; files : (<span class="type">Text</span>) -&gt; ?[<a href="#type.File"><span class="type">File</span></a>] }</h4><p></p></div><div class="declaration"><h4 class="type-declaration" id="type.ParsedHttpRequest"><span class="keyword">type </span><span class="type">ParsedHttpRequest</span> = { method : <span class="type">Text</span>; url : <a href="#type.URL"><span class="type">URL</span></a>; headers : <a href="#type.Headers"><span class="type">Headers</span></a>; body : ?<a href="#type.Body"><span class="type">Body</span></a> }</h4><p></p></div><div class="declaration"><h4 class="type-declaration" id="type.SharedMessage"><span class="keyword">type </span><span class="type">SharedMessage</span> = { caller : <span class="type">Principal</span> }</h4><p></p></div><div class="declaration"><h4 class="type-declaration" id="type.HttpHeader"><span class="keyword">type </span><span class="type">HttpHeader</span> = { name : <span class="type">Text</span>; value : <span class="type">Text</span> }</h4><p><p>Canister HTTP outcall request and response types</p>
</p></div><div class="declaration"><h4 class="type-declaration" id="type.HttpMethod"><span class="keyword">type </span><span class="type">HttpMethod</span> = {#get; #post; #head}</h4><p></p></div><div class="declaration"><h4 class="type-declaration" id="type.TransformContext"><span class="keyword">type </span><span class="type">TransformContext</span> = { function : <span class="keyword">shared query </span><a href="#type.TransformArgs"><span class="type">TransformArgs</span></a> -&gt; <span class="keyword">async </span><a href="#type.CanisterHttpResponse"><span class="type">CanisterHttpResponse</span></a>; context : <span class="type">Blob</span> }</h4><p></p></div><div class="declaration"><h4 class="type-declaration" id="type.CanisterHttpRequest"><span class="keyword">type </span><span class="type">CanisterHttpRequest</span> = { url : <span class="type">Text</span>; max_response_bytes : ?<span class="type">Nat64</span>; headers : [<a href="#type.HttpHeader"><span class="type">HttpHeader</span></a>]; body : ?[<span class="type">Nat8</span>]; method : <a href="#type.HttpMethod"><span class="type">HttpMethod</span></a>; transform : ?<a href="#type.TransformContext"><span class="type">TransformContext</span></a> }</h4><p></p></div><div class="declaration"><h4 class="type-declaration" id="type.CanisterHttpResponse"><span class="keyword">type </span><span class="type">CanisterHttpResponse</span> = { status : <span class="type">Nat</span>; headers : [<a href="#type.HttpHeader"><span class="type">HttpHeader</span></a>]; body : [<span class="type">Nat8</span>] }</h4><p></p></div><div class="declaration"><h4 class="type-declaration" id="type.RedirectedResponse"><span class="keyword">type </span><span class="type">RedirectedResponse</span> = { url : <span class="type">Text</span>; response : <a href="#type.CanisterHttpResponse"><span class="type">CanisterHttpResponse</span></a> }</h4><p></p></div><div class="declaration"><h4 class="type-declaration" id="type.OutcallResponse"><span class="keyword">type </span><span class="type">OutcallResponse</span> = <a href="#type.CanisterHttpResponse"><span class="type">CanisterHttpResponse</span></a> and { redirects : [<a href="#type.RedirectedResponse"><span class="type">RedirectedResponse</span></a>] }</h4><p></p></div><div class="declaration"><h4 class="type-declaration" id="type.TransformArgs"><span class="keyword">type </span><span class="type">TransformArgs</span> = { response : <a href="#type.CanisterHttpResponse"><span class="type">CanisterHttpResponse</span></a>; context : <span class="type">Blob</span> }</h4><p></p></div><div class="declaration"><h4 class="type-declaration" id="type.ManagementCanister"><span class="keyword">type </span><span class="type">ManagementCanister</span> = <span class="keyword">actor </span>{ http_request : <span class="keyword">shared </span><a href="#type.CanisterHttpRequest"><span class="type">CanisterHttpRequest</span></a> -&gt; <span class="keyword">async </span><a href="#type.CanisterHttpResponse"><span class="type">CanisterHttpResponse</span></a> }</h4><p></p></div></div></body></html>